//add lib
#include <netdb.h> 
#include <netinet/in.h> 
#include <sys/socket.h> 
#include <sys/types.h> 
#include <arpa/inet.h>
#include <errno.h>
#include <stdio.h> 
#include <string.h> 

//define  buffer of info
#define SERV_PORT       9999             
#define SERV_HOST_ADDR "192.168.0.100"    
#define BUF_SIZE        1024              
#define BACKLOG         1               


//define structs
struct sockaddr_in servaddr, client;
struct server{
     
    int sockfd, connfd ;
};

//functions from server
int newsocket(void){
    struct server server;
    server.sockfd = socket(AF_INET, SOCK_STREAM, 0); 
        if (server.sockfd == -1){ 
        return -1;
    }else{
        return 0;
    }
    
}
int server(){
    struct server server;
    servaddr.sin_family      = AF_INET; 
    servaddr.sin_addr.s_addr = inet_addr(SERV_HOST_ADDR); 
    servaddr.sin_port        = htons(SERV_PORT); 
        /* Bind socket */
    if ((bind(server.sockfd, (struct sockaddr *)&servaddr, sizeof(servaddr))) != 0){ 
        return -1;
    } else{
        if ((listen(server.sockfd, BACKLOG)) != 0){ 
        return -1;
    }else{
        printf("[SERVER]: Listening on SERV_PORT %d \n\n", ntohs(servaddr.sin_port) ); 
    }
    
    int len = sizeof(client); 
  
      /* Accept the data from incoming sockets in a iterative way */
      while(1){
        server.connfd = accept(server.sockfd, (struct sockaddr *)&client, &len); 
        if (server.connfd < 0) { 
            return -1;
        } else{

        }              ;
    }
}